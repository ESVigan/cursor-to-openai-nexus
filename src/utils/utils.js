const a0_0x45bfc6=a0_0x33d7;(function(_0x4db681,_0x149e37){const _0xbe1e24=a0_0x33d7,_0x5c7244=_0x4db681();while(!![]){try{const _0x24da50=parseInt(_0xbe1e24(0x97))/0x1*(parseInt(_0xbe1e24(0xc5))/0x2)+-parseInt(_0xbe1e24(0xc0))/0x3+parseInt(_0xbe1e24(0x8a))/0x4*(parseInt(_0xbe1e24(0xb2))/0x5)+parseInt(_0xbe1e24(0x9d))/0x6+parseInt(_0xbe1e24(0x9b))/0x7+-parseInt(_0xbe1e24(0x92))/0x8*(-parseInt(_0xbe1e24(0xb0))/0x9)+-parseInt(_0xbe1e24(0xa0))/0xa;if(_0x24da50===_0x149e37)break;else _0x5c7244['push'](_0x5c7244['shift']());}catch(_0x375571){_0x5c7244['push'](_0x5c7244['shift']());}}}(a0_0x3744,0xe963f));const a0_0x1e4975=(function(){let _0x3146cd=!![];return function(_0x59f3db,_0x2fae90){const _0x20caa6=_0x3146cd?function(){const _0x9bed94=a0_0x33d7;if(_0x2fae90){const _0x1745f0=_0x2fae90[_0x9bed94(0x90)](_0x59f3db,arguments);return _0x2fae90=null,_0x1745f0;}}:function(){};return _0x3146cd=![],_0x20caa6;};}()),a0_0x270775=a0_0x1e4975(this,function(){const _0x522dc6=a0_0x33d7;return a0_0x270775['toString']()[_0x522dc6(0xb5)](_0x522dc6(0xb3))[_0x522dc6(0x8b)]()[_0x522dc6(0xa3)](a0_0x270775)['search'](_0x522dc6(0xb3));});a0_0x270775();const os=require('os'),zlib=require(a0_0x45bfc6(0x98)),crypto=require(a0_0x45bfc6(0xb6)),{v4:uuidv4}=require(a0_0x45bfc6(0xa8)),$root=require('../proto/message.js');function generateCursorBody(_0x46f91c,_0x2ab676){const _0x85ec04=a0_0x45bfc6,_0x17d176=_0x46f91c[_0x85ec04(0x9a)](_0x4a26f7=>_0x4a26f7[_0x85ec04(0xa2)]===_0x85ec04(0xa7))[_0x85ec04(0xbb)](_0xe98739=>_0xe98739[_0x85ec04(0x96)])[_0x85ec04(0x9f)]('\x0a'),_0x1017d6=_0x46f91c[_0x85ec04(0x9a)](_0x134b80=>_0x134b80[_0x85ec04(0xa2)]!=='system')[_0x85ec04(0xbb)](_0x3ebbe9=>({'content':_0x3ebbe9['content'],'role':_0x3ebbe9[_0x85ec04(0xa2)]===_0x85ec04(0xac)?0x1:0x2,'messageId':uuidv4(),..._0x3ebbe9[_0x85ec04(0xa2)]===_0x85ec04(0xac)?{'chatModeEnum':0x1}:{}})),_0x4834b4=_0x1017d6[_0x85ec04(0xbb)](_0x3ad9a4=>{const {role:_0x9ac852,messageId:_0x8b521c,summaryId:_0x1d42b3}=_0x3ad9a4;return _0x1d42b3?{'role':_0x9ac852,'messageId':_0x8b521c,'summaryId':_0x1d42b3}:{'role':_0x9ac852,'messageId':_0x8b521c};}),_0x46743b={'request':{'messages':_0x1017d6,'unknown2':0x1,'instruction':{'instruction':_0x17d176},'unknown4':0x1,'model':{'name':_0x2ab676,'empty':''},'webTool':'','unknown13':0x1,'cursorSetting':{'name':_0x85ec04(0x8d),'unknown3':'','unknown6':{'unknwon1':'','unknown2':''},'unknown8':0x1,'unknown9':0x1},'unknown19':0x1,'conversationId':uuidv4(),'metadata':{'os':'win32','arch':_0x85ec04(0xc1),'version':_0x85ec04(0xa6),'path':_0x85ec04(0xba),'timestamp':new Date()[_0x85ec04(0x91)]()},'unknown27':0x0,'messageIds':_0x4834b4,'largeContext':0x0,'unknown38':0x0,'chatModeEnum':0x1,'unknown47':'','unknown48':0x0,'unknown49':0x0,'unknown51':0x0,'unknown53':0x1,'chatMode':_0x85ec04(0xae)}},_0x3cd4b1=$root[_0x85ec04(0xaa)][_0x85ec04(0xb8)](_0x46743b);if(_0x3cd4b1)throw Error(_0x3cd4b1);const _0x4dd22a=$root[_0x85ec04(0xaa)][_0x85ec04(0x8e)](_0x46743b);let _0x1cf078=$root[_0x85ec04(0xaa)][_0x85ec04(0x9e)](_0x4dd22a)[_0x85ec04(0xab)](),_0x3bdf19=0x0;_0x1017d6['length']>=0x3&&(_0x1cf078=zlib['gzipSync'](_0x1cf078),_0x3bdf19=0x1);const _0x56ef0b=Buffer[_0x85ec04(0xc4)]([Buffer['from']([_0x3bdf19]),Buffer[_0x85ec04(0x8f)](_0x1cf078['length'][_0x85ec04(0x8b)](0x10)[_0x85ec04(0xa5)](0x8,'0'),'hex'),_0x1cf078]);return _0x56ef0b;}function a0_0x33d7(_0x4ba44b,_0x4aebf3){const _0x2570a5=a0_0x3744();return a0_0x33d7=function(_0x270775,_0x1e4975){_0x270775=_0x270775-0x8a;let _0x3744eb=_0x2570a5[_0x270775];if(a0_0x33d7['HDSpXv']===undefined){var _0x33d789=function(_0x572814){const _0x15a418='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x58988c='',_0x3146cd='',_0x59f3db=_0x58988c+_0x33d789;for(let _0x2fae90=0x0,_0x20caa6,_0x1745f0,_0x46f91c=0x0;_0x1745f0=_0x572814['charAt'](_0x46f91c++);~_0x1745f0&&(_0x20caa6=_0x2fae90%0x4?_0x20caa6*0x40+_0x1745f0:_0x1745f0,_0x2fae90++%0x4)?_0x58988c+=_0x59f3db['charCodeAt'](_0x46f91c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x20caa6>>(-0x2*_0x2fae90&0x6)):_0x2fae90:0x0){_0x1745f0=_0x15a418['indexOf'](_0x1745f0);}for(let _0x2ab676=0x0,_0x17d176=_0x58988c['length'];_0x2ab676<_0x17d176;_0x2ab676++){_0x3146cd+='%'+('00'+_0x58988c['charCodeAt'](_0x2ab676)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3146cd);};a0_0x33d7['YVYagB']=_0x33d789,_0x4ba44b=arguments,a0_0x33d7['HDSpXv']=!![];}const _0x4b325a=_0x2570a5[0x0],_0x172975=_0x270775+_0x4b325a,_0x2998b8=_0x4ba44b[_0x172975];if(!_0x2998b8){const _0x1017d6=function(_0x4834b4){this['gSnPtn']=_0x4834b4,this['LsEpeF']=[0x1,0x0,0x0],this['mSMrTw']=function(){return'newState';},this['SMiHlF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['HUzEol']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1017d6['prototype']['AbDzJG']=function(){const _0x46743b=new RegExp(this['SMiHlF']+this['HUzEol']),_0x3cd4b1=_0x46743b['test'](this['mSMrTw']['toString']())?--this['LsEpeF'][0x1]:--this['LsEpeF'][0x0];return this['NIJlrY'](_0x3cd4b1);},_0x1017d6['prototype']['NIJlrY']=function(_0x4dd22a){if(!Boolean(~_0x4dd22a))return _0x4dd22a;return this['zNPrSI'](this['gSnPtn']);},_0x1017d6['prototype']['zNPrSI']=function(_0x1cf078){for(let _0x3bdf19=0x0,_0x56ef0b=this['LsEpeF']['length'];_0x3bdf19<_0x56ef0b;_0x3bdf19++){this['LsEpeF']['push'](Math['round'](Math['random']())),_0x56ef0b=this['LsEpeF']['length'];}return _0x1cf078(this['LsEpeF'][0x0]);},new _0x1017d6(a0_0x33d7)['AbDzJG'](),_0x3744eb=a0_0x33d7['YVYagB'](_0x3744eb),_0x4ba44b[_0x172975]=_0x3744eb;}else _0x3744eb=_0x2998b8;return _0x3744eb;},a0_0x33d7(_0x4ba44b,_0x4aebf3);}function chunkToUtf8String(_0x4d5304){const _0x58bb6b=a0_0x45bfc6,_0x186a0e=[],_0x15a816=[],_0x1e494d=[],_0x5def47={'hasError':![],'errorMessage':''},_0xd1d8e6=Buffer[_0x58bb6b(0x8f)](_0x4d5304,'hex');try{for(let _0x1a011b=0x0;_0x1a011b<_0xd1d8e6['length'];_0x1a011b++){const _0x315a1c=parseInt(_0xd1d8e6[_0x58bb6b(0xc6)](_0x1a011b,_0x1a011b+0x1)[_0x58bb6b(0x8b)](_0x58bb6b(0xc7)),0x10),_0x9d755a=parseInt(_0xd1d8e6['subarray'](_0x1a011b+0x1,_0x1a011b+0x5)[_0x58bb6b(0x8b)](_0x58bb6b(0xc7)),0x10),_0xb6f466=_0xd1d8e6['subarray'](_0x1a011b+0x5,_0x1a011b+0x5+_0x9d755a);if(_0x315a1c==0x0||_0x315a1c==0x1){const _0x34e7bf=_0x315a1c==0x0?_0xb6f466:zlib[_0x58bb6b(0x93)](_0xb6f466),_0x373fce=$root['StreamUnifiedChatWithToolsResponse']['decode'](_0x34e7bf),_0x3732a7=_0x373fce?.[_0x58bb6b(0x9c)]?.[_0x58bb6b(0xb7)]?.[_0x58bb6b(0x96)];_0x3732a7!==undefined&&_0x3732a7[_0x58bb6b(0xc9)]>0x0&&_0x15a816[_0x58bb6b(0x95)](_0x3732a7);const _0x13c418=_0x373fce?.['message']?.['content'];_0x13c418!==undefined&&_0x13c418['length']>0x0&&_0x1e494d[_0x58bb6b(0x95)](_0x13c418);}else{if(_0x315a1c==0x2||_0x315a1c==0x3){const _0xa90d4c=_0x315a1c==0x2?_0xb6f466:zlib['gunzipSync'](_0xb6f466),_0xfdddeb=_0xa90d4c[_0x58bb6b(0x8b)](_0x58bb6b(0xb9)),_0x2d7ba0=JSON[_0x58bb6b(0x8c)](_0xfdddeb);_0x2d7ba0!=null&&(typeof _0x2d7ba0!=='object'||(Array[_0x58bb6b(0xc3)](_0x2d7ba0)?_0x2d7ba0[_0x58bb6b(0xc9)]>0x0:Object[_0x58bb6b(0xbd)](_0x2d7ba0)[_0x58bb6b(0xc9)]>0x0))&&(console[_0x58bb6b(0xaf)](_0xfdddeb),_0x2d7ba0&&_0x2d7ba0['error']&&(_0x5def47['hasError']=!![],_0x5def47['errorMessage']=_0xfdddeb));}else{}}_0x1a011b+=0x5+_0x9d755a-0x1;}}catch(_0x1358ce){console[_0x58bb6b(0xad)](_0x58bb6b(0xb4),_0x1358ce);}if(_0x5def47[_0x58bb6b(0xc2)])return{'error':_0x5def47[_0x58bb6b(0xc8)]};return{'reasoning_content':_0x15a816[_0x58bb6b(0x9f)](''),'content':_0x1e494d[_0x58bb6b(0x9f)]('')};}function generateHashed64Hex(_0x1c27a7,_0x5c8add=''){const _0x3253af=a0_0x45bfc6,_0x5b7a51=crypto[_0x3253af(0xb1)](_0x3253af(0x99));return _0x5b7a51[_0x3253af(0xa4)](_0x1c27a7+_0x5c8add),_0x5b7a51[_0x3253af(0xa9)]('hex');}function a0_0x3744(){const _0x339da7=['rxjYB3iGCgfYC2LUzYbJAhvUAYbYzxnWB25ZztO','C2vHCMnO','y3j5ChrV','DgHPBMTPBMC','DMvYAwz5','DxrMltG','qZPCuhjVz3jHBsbgAwXLC1XqB3DLCLnOzwXSxdDCChDZAc5LEgu','BwfW','BwfJtwfJAgLUzuLK','A2v5CW','yMfZzty0','BwfJAgLUzuLK','mtKZodeZnwXzteDMyq','Edy0','AgfZrxjYB3i','AxnbCNjHEq','y29Uy2f0','mJu4ota0ngrPCuLIrG','C3vIyxjYyxK','Agv4','zxjYB3jnzxnZywDL','BgvUz3rO','mZKZmdC0ogr4CNbgtq','Dg9tDhjPBMC','CgfYC2u','y3vYC29YxgfPC2v0DgLUz3m','y3jLyxrL','zNjVBq','yxbWBhK','Dg9ju09tDhjPBMC','mJrIwfvYrhq','z3vUEMLWu3LUyW','BM93','ChvZAa','y29UDgvUDa','mxjSqNvKAa','EMXPyG','C2HHmJu2','zMLSDgvY','ndq2mZq0nvzvsgrozq','BwvZC2fNzq','odG2mJaWmhb2tu1etq','zw5JB2rL','AM9PBG','mZaWnZa0mtbbCvfYwvi','zMXVB3i','CM9Szq','y29UC3rYDwn0B3i','DxbKyxrL','CgfKu3rHCNq','mtaUmc4YmJyZmq','C3LZDgvT','DxvPza','zgLNzxn0','u3rYzwfTvw5PzMLLzenOyxrxAxrOvg9VBhnszxf1zxn0','zMLUAxnO','DxnLCG','Bg9N','qxnR','zxjYB3i','nJuXnJi3z0fZtwPV','y3jLyxrLsgfZAa','nxfZuNDNEG','kcGOlISPkYKRksSK'];a0_0x3744=function(){return _0x339da7;};return a0_0x3744();}function obfuscateBytes(_0x52ef8f){const _0x44716d=a0_0x45bfc6;let _0x8b543d=0xa5;for(let _0x15e2e8=0x0;_0x15e2e8<_0x52ef8f[_0x44716d(0xc9)];_0x15e2e8++){_0x52ef8f[_0x15e2e8]=(_0x52ef8f[_0x15e2e8]^_0x8b543d)+_0x15e2e8%0x100,_0x8b543d=_0x52ef8f[_0x15e2e8];}return _0x52ef8f;}function generateCursorChecksum(_0x116033){const _0x5a6dd6=a0_0x45bfc6,_0x12bf53=generateHashed64Hex(_0x116033,_0x5a6dd6(0xbf)),_0x21a71a=generateHashed64Hex(_0x116033,_0x5a6dd6(0xbc)),_0x2a5bfa=Math[_0x5a6dd6(0xa1)](Date[_0x5a6dd6(0x94)]()/0xf4240),_0x5060b5=new Uint8Array([_0x2a5bfa>>0x28&0xff,_0x2a5bfa>>0x20&0xff,_0x2a5bfa>>0x18&0xff,_0x2a5bfa>>0x10&0xff,_0x2a5bfa>>0x8&0xff,0xff&_0x2a5bfa]),_0x235ecf=obfuscateBytes(_0x5060b5),_0x1110af=Buffer[_0x5a6dd6(0x8f)](_0x235ecf)[_0x5a6dd6(0x8b)](_0x5a6dd6(0xbe));return''+_0x1110af+_0x12bf53+'/'+_0x21a71a;}module['exports']={'generateCursorBody':generateCursorBody,'chunkToUtf8String':chunkToUtf8String,'generateHashed64Hex':generateHashed64Hex,'generateCursorChecksum':generateCursorChecksum};